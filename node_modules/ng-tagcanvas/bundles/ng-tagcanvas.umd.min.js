!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("uuid"),require("jquery-tagcanvas/tagcanvas"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng-tagcanvas",["exports","@angular/core","uuid","jquery-tagcanvas/tagcanvas","@angular/common"],n):n(t["ng-tagcanvas"]={},t.ng.core,null,null,t.ng.common)}(this,function(t,n,e,a,i){"use strict";function o(n,r,s,c){return new(s||(s=Promise))(function(t,e){function a(t){try{o(c.next(t))}catch(n){e(n)}}function i(t){try{o(c["throw"](t))}catch(n){e(n)}}function o(n){n.done?t(n.value):new s(function(t){t(n.value)}).then(a,i)}o((c=c.apply(n,r||[])).next())})}function r(e,a){var i,o,r,t,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return t={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function n(n){return function(t){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(r=2&t[0]?o["return"]:t[0]?o["throw"]||((r=o["return"])&&r.call(o),0):o.next)&&!(r=r.call(o,t[1])).done)return r;switch(o=0,r&&(t=[2&t[0],r.value]),t[0]){case 0:case 1:r=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(r=0<(r=s.trys).length&&r[r.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!r||t[1]>r[0]&&t[1]<r[3])){s.label=t[1];break}if(6===t[0]&&s.label<r[1]){s.label=r[1],r=t;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(t);break}r[2]&&s.ops.pop(),s.trys.pop();continue}t=a.call(e,s)}catch(n){t=[6,n],o=0}finally{i=r=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([n,t])}}}var s=function(){function t(t){this.elementRef=t,this._instanceId=e.v4(),this.canvasId="canvas-"+this._instanceId,this.tagListId="tags-"+this._instanceId,this.defaultOptions={textFont:null,textColour:null,weightFrom:"data-weight"},this.tagClick=new n.EventEmitter}return Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){this._options=t,this.start()},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this.canvas.nativeElement;t.width=Math.round(t.clientWidth),t.height=Math.round(t.clientHeight);var n=window.getComputedStyle(this.elementRef.nativeElement);this.defaultOptions.textHeight=parseFloat(n["font-size"]),this.start()},t.prototype.start=function(){return o(this,void 0,void 0,function(){var n;return r(this,function(t){switch(t.label){case 0:return n=Object.assign({},this.defaultOptions,this._options),[4,c()];case 1:return t.sent(),TagCanvas.Start(this.canvasId,this.tagListId,n),[2]}})})},t.prototype.update=function(){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,c()];case 1:return t.sent(),TagCanvas.Update(this.canvasId),[2]}})})},t.prototype.ngDoCheck=function(){var t=JSON.stringify(this.tags.map(function(t){return[t.text,t.weight]}));this._previousTagListState!==t&&(this._previousTagListState=t,this.update())},t.prototype.ngOnDestroy=function(){TagCanvas.Delete(this.canvasId)},t.decorators=[{type:n.Component,args:[{selector:"tag-canvas",template:'<canvas #canvas id="{{ canvasId }}"></canvas>\n<div id="{{ tagListId }}" class="tag-container">\n\t<a href="javascript:void(0)" *ngFor="let tag of tags"\n\t\t[attr.data-weight]="tag.weight" (click)="tagClick.next(tag)">{{ tag.text }}</a>\n</div>\n',styles:[":host{display:block}canvas{display:block;width:100%;height:100%}.tag-container{display:none}.tag-container>a{font-family:inherit!important;color:inherit!important;font-size:inherit!important;font-weight:inherit!important}"]}]}],t.ctorParameters=function(){return[{type:n.ElementRef}]},t.propDecorators={tags:[{type:n.Input}],options:[{type:n.Input}],tagClick:[{type:n.Output}],canvas:[{type:n.ViewChild,args:["canvas"]}]},t}();function c(){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t()})})];case 1:return t.sent(),[2]}})})}var u=function(){function t(){}return t.decorators=[{type:n.NgModule,args:[{declarations:[s],imports:[i.CommonModule],exports:[s]}]}],t}(),l=function(t){Object.assign(this,t)};t.TagCanvasModule=u,t.TagCanvasComponent=s,t.Tag=l,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng-tagcanvas.umd.min.js.map
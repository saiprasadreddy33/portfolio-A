(self.webpackChunkportfolio_angular=self.webpackChunkportfolio_angular||[]).push([[726],{9726:(K,et,F)=>{"use strict";F.r(et),F.d(et,{AboutComponent:()=>Bt});var Z=F(6895),L=F(1295),R=F(8159);function P(h,c,u,m){return new(u||(u=Promise))(function(p,_){function M(U){try{D(m.next(U))}catch(ot){_(ot)}}function X(U){try{D(m.throw(U))}catch(ot){_(ot)}}function D(U){U.done?p(U.value):function x(p){return p instanceof u?p:new u(function(_){_(p)})}(U.value).then(M,X)}D((m=m.apply(h,c||[])).next())})}var pt,y=F(8274),$=new Uint8Array(16);function Pt(){if(!pt&&!(pt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pt($)}const St=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Et=function _t(h){return"string"==typeof h&&St.test(h)};for(var N=[],Ct=0;Ct<256;++Ct)N.push((Ct+256).toString(16).substr(1));const G=function kt(h,c,u){var m=(h=h||{}).random||(h.rng||Pt)();if(m[6]=15&m[6]|64,m[8]=63&m[8]|128,c){u=u||0;for(var x=0;x<16;++x)c[u+x]=m[x];return c}return function Ft(h){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=(N[h[c+0]]+N[h[c+1]]+N[h[c+2]]+N[h[c+3]]+"-"+N[h[c+4]]+N[h[c+5]]+"-"+N[h[c+6]]+N[h[c+7]]+"-"+N[h[c+8]]+N[h[c+9]]+"-"+N[h[c+10]]+N[h[c+11]]+N[h[c+12]]+N[h[c+13]]+N[h[c+14]]+N[h[c+15]]).toLowerCase();if(!Et(u))throw TypeError("Stringified UUID is invalid");return u}(m)};F(4192);const Nt=["canvas"];function wt(h,c){if(1&h){const u=y.EpF();y.TgZ(0,"a",4),y.NdJ("click",function(){const p=y.CHM(u).$implicit,_=y.oxw();return y.KtG(_.tagClick.next(p))}),y._uU(1),y.qZA()}if(2&h){const u=c.$implicit;y.uIk("data-weight",u.weight),y.xp6(1),y.Oqu(u.text)}}let Dt=(()=>{class h{constructor(u){this.elementRef=u,this._instanceId=G(),this.canvasId=`canvas-${this._instanceId}`,this.tagListId=`tags-${this._instanceId}`,this.defaultOptions={textFont:null,textColour:null,weightFrom:"data-weight"},this.tagClick=new y.vpe}set options(u){this._options=u,this.start()}get options(){return this._options}ngAfterViewInit(){let u=this.canvas.nativeElement;u.width=Math.round(u.clientWidth),u.height=Math.round(u.clientHeight);let m=window.getComputedStyle(this.elementRef.nativeElement);this.defaultOptions.textHeight=parseFloat(m["font-size"]),this.start()}start(){return P(this,void 0,void 0,function*(){let u=Object.assign({},this.defaultOptions,this._options);yield st(),TagCanvas.Start(this.canvasId,this.tagListId,u)})}update(){return P(this,void 0,void 0,function*(){yield st(),TagCanvas.Update(this.canvasId)})}ngDoCheck(){let u=JSON.stringify(this.tags.map(({text:m,weight:x})=>[m,x]));this._previousTagListState!==u&&(this._previousTagListState=u,this.update())}ngOnDestroy(){TagCanvas.Delete(this.canvasId)}}return h.\u0275fac=function(u){return new(u||h)(y.Y36(y.SBq))},h.\u0275cmp=y.Xpm({type:h,selectors:[["tag-canvas"]],viewQuery:function(u,m){if(1&u&&y.Gf(Nt,5),2&u){let x;y.iGM(x=y.CRH())&&(m.canvas=x.first)}},inputs:{options:"options",tags:"tags"},outputs:{tagClick:"tagClick"},decls:4,vars:3,consts:[[3,"id"],["canvas",""],[1,"tag-container",3,"id"],["href","javascript:void(0)",3,"click",4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"]],template:function(u,m){1&u&&(y._UZ(0,"canvas",0,1),y.TgZ(2,"div",2),y.YNc(3,wt,2,2,"a",3),y.qZA()),2&u&&(y.s9C("id",m.canvasId),y.xp6(2),y.s9C("id",m.tagListId),y.xp6(1),y.Q6J("ngForOf",m.tags))},dependencies:[Z.sg],styles:["[_nghost-%COMP%]{display:block}canvas[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.tag-container[_ngcontent-%COMP%]{display:none}.tag-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-family:inherit!important;color:inherit!important;font-size:inherit!important;font-weight:inherit!important}"]}),h})();function st(){return P(this,void 0,void 0,function*(){yield new Promise(h=>setTimeout(()=>h()))})}let bt=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=y.oAB({type:h}),h.\u0275inj=y.cJS({imports:[Z.ez]}),h})();var xt=F(7224);const It=["title"],Lt=function(){return["/"]};let Bt=(()=>{class h{constructor(u){this.renderer=u,this.tags=xt.DX,this.options=xt.oU}ngAfterViewInit(){new R.Z("h1",{returnGenerated:!0,delimiter:"character",tag:"span",search:!1,customClass:"",aria:!0,debug:!1,name:"blast"});let u=this.titlePieces.nativeElement.children,m=0;for(const x of Array.from(u))setTimeout(()=>{this.renderer.addClass(x,"animated"),this.renderer.addClass(x,"bounceIn"),this.renderer.addClass(x,"rubberBand")},m),m+=100,setTimeout(()=>{this.renderer.removeClass(x,"animated"),this.renderer.removeClass(x,"bounceIn"),this.renderer.setStyle(x,"opacity",1),x.addEventListener("mouseenter",()=>{this.renderer.addClass(x,"animated"),this.renderer.addClass(x,"rubberBand")}),x.addEventListener("mouseleave",()=>{this.renderer.removeClass(x,"animated"),this.renderer.removeClass(x,"rubberBand")})},1500)}}return h.\u0275fac=function(u){return new(u||h)(y.Y36(y.Qsj))},h.\u0275cmp=y.Xpm({type:h,selectors:[["app-about"]],viewQuery:function(u,m){if(1&u&&y.Gf(It,5),2&u){let x;y.iGM(x=y.CRH())&&(m.titlePieces=x.first)}},standalone:!0,features:[y.jDz],decls:18,vars:4,consts:[[1,"about-me-page"],[1,"about-me-section"],["title",""],[1,"about-me"],[3,"routerLink"],[1,"tag-canvas"],[1,"canvas-container"],[3,"tags","options"]],template:function(u,m){1&u&&(y.TgZ(0,"section",0)(1,"div",1)(2,"h1",null,2),y._uU(4,"About Me"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7," I\u2019m a Front-End Developer located in India. I have a serious passion for UI development. I love creating intuitive and dynamic user experiences. I like writing technical content on Medium. "),y.qZA(),y.TgZ(8,"p"),y._uU(9," I am a highly-organised person, a problem solver and a meticulous individual contributor. I am a fan of cricket, outdoor activities and TV series. "),y.qZA(),y.TgZ(10,"p"),y._uU(11," I'm interested in the entire frontend spectrum and love working on ambitious projects with like-minded people. "),y.qZA(),y.TgZ(12,"p")(13,"a",4),y._uU(14,"Let\u2019s collaborate."),y.qZA()()()(),y.TgZ(15,"div",5)(16,"div",6),y._UZ(17,"tag-canvas",7),y.qZA()()()),2&u&&(y.xp6(13),y.Q6J("routerLink",y.DdM(3,Lt)),y.xp6(4),y.Q6J("tags",m.tags)("options",m.options))},dependencies:[Z.ez,L.Bz,L.yS,bt,Dt],styles:[".about-me-page[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.about-me-page[_ngcontent-%COMP%]   .about-me-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;flex:1 0 0%}.about-me-page[_ngcontent-%COMP%]   .about-me-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:5rem;font-size:4rem}.about-me-page[_ngcontent-%COMP%]   .about-me-section[_ngcontent-%COMP%]   .about-me[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:1rem 5rem;font-size:1rem;text-align:left}.about-me-page[_ngcontent-%COMP%]   .about-me-section[_ngcontent-%COMP%]   .about-me[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#08fdd8;text-decoration:none}.about-me-page[_ngcontent-%COMP%]   .about-me-section[_ngcontent-%COMP%]   .about-me[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8}.about-me-page[_ngcontent-%COMP%]   .tag-canvas[_ngcontent-%COMP%]{flex:1 0 0%}  tag-canvas canvas{padding-top:20px;min-height:70vh}"]}),h})()},8159:(K,et,F)=>{"use strict";function L(v){let d,S="",E=0;const O=v.nodeType;if(O){if(1===O||9===O||11===O){if("string"==typeof v.textContent)return v.textContent;for(v=v.firstChild;v;v=v.nextSibling)S+=getText(v)}else if(3===O||4===O)return v.nodeValue}else for(;d=v[E++];)S+=getText(d);return S}F.d(et,{Z:()=>P});const A_latinLetters="\\u0041-\\u005A\\u0061-\\u007A\\u00C0-\\u017F\\u0100-\\u01FF\\u0180-\\u027F",gt={abbreviations:new RegExp("[^"+A_latinLetters+"](e\\.g\\.)|(i\\.e\\.)|(mr\\.)|(mrs\\.)|(ms\\.)|(dr\\.)|(prof\\.)|(esq\\.)|(sr\\.)|(jr\\.)[^"+A_latinLetters+"]","ig"),innerWordPeriod:new RegExp("["+A_latinLetters+"].["+A_latinLetters+"]","ig"),onlyContainsPunctuation:new RegExp("[^\u2013\u2014\u2032\u2019'\u201c\u2033\u201e\"(\xab.\u2026\xa1\xbf\u2032\u2019'\u201d\u2033\u201c\")\xbb.\u2026!?]"),adjoinedPunctuation:new RegExp("^[\u2013\u2014\u2032\u2019'\u201c\u2033\u201e\"(\xab.\u2026\xa1\xbf\u2032\u2019'\u201d\u2033\u201c\")\xbb.\u2026!?]+|[\u2013\u2014\u2032\u2019'\u201c\u2033\u201e\"(\xab.\u2026\xa1\xbf\u2032\u2019'\u201d\u2033\u201c\")\xbb.\u2026!?]+$","g"),skippedElements:/(script|style|select|textarea)/i,hasPluginClass:new RegExp("(^| )blast( |$)","gi")};function tt(v){return v.replace(/{{(\d{1,3})}}/g,function(d,S){return String.fromCharCode(S)})}const dt=function at(v,d){let S=-1,E=0;if(3===v.nodeType&&v.data.length){if(Element.nodeBeginning&&(v.data=d.search||"sentence"!==d.delimiter?tt(v.data):function it(v){return v.replace(exports.Reg.abbreviations,function(d){return d.replace(/\./g,"{{46}}")}).replace(exports.Reg.innerWordPeriod,function(d){return d.replace(/\./g,"{{46}}")})}(v.data),Element.nodeBeginning=!1),S=v.data.search(d.processedDelimiterRegex),-1!==S){var O=v.data.match(d.processedDelimiterRegex),q=O[0],z=O[1]||!1;""===q?S++:z&&z!==q&&(S+=q.indexOf(z),q=z);var k=v.splitText(S);k.splitText(q.length),E=1,!d.search&&"sentence"===d.delimiter&&(k.data=tt(k.data));var B=((v,d)=>{const S=document.createElement(d.tag);if(S.className=d.name,d.customClass&&(S.className+=" "+d.customClass,d.generateIndexID&&(S.id=d.customClass+"-"+Element.blastedIndex)),"all"===d.delimiter&&/\s/.test(v.data)&&(S.style.whiteSpace="pre-line"),!0===d.generateValueClass&&!d.search&&("character"===d.delimiter||"word"===d.delimiter)){var E,O=v.data;"word"===d.delimiter&&Reg.onlyContainsPunctuation.test(O)&&(O=O.replace(Reg.adjoinedPunctuation,"")),E=NAME+"-"+d.delimiter.toLowerCase()+"-"+O.toLowerCase(),S.className+=" "+E}return d.aria&&S.setAttribute("aria-hidden","true"),S.appendChild(v.cloneNode(!1)),S})(k,d,Element);k.parentNode.replaceChild(B,k),Element.wrappers.push(B),Element.blastedIndex++}}else if(1===v.nodeType&&v.hasChildNodes()&&!gt.skippedElements.test(v.tagName)&&!gt.hasPluginClass.test(v.className))for(var V=0;V<v.childNodes.length;V++)Element.nodeBeginning=!0,V+=at(v.childNodes[V],d);return E},P=class{constructor(v,d={}){this.elements=[],this.elements="string"==typeof v?Array.from(document.querySelectorAll(v)):[v],this.opts={returnGenerated:d.returnGenerated||!0,delimiter:d.delimiter||"word",tag:d.tag||"span",search:d.search||!1,customClass:d.customClass||"",generateIndexID:d.generateIndexID||!1,generateValueClass:d.generateValueClass||!1,aria:!d.hasOwnProperty("aria")||d.aria,debug:d.debug||!1,name:d.name||"blast"},Element={blastedIndex:0,nodeBeginning:!1,wrappers:Element.wrappers||[]};const S=this.createDelimiters();this.opts.processedDelimiter=S.delimiter,this.opts.processedDelimiterRegex=S.delimiterRegex,this.processedElements=this.processElements(),this.opts.debug&&console.time("blast"),this.processedElements.map(E=>{dt(E,this.opts)}),this.opts.debug&&console.timeEnd("blast")}createDelimiters(v=null){return function Z(v){let S,d=v.delimiter;if(v.search.length&&("string"==typeof v.search||/^\d/.test(parseFloat(v.search))))d=v.search.toString().replace(/[-[\]{,}(.)*+?|^$\\\/]/g,"\\$&"),S=new RegExp("(?:^|[^-"+characterRanges.latinLetters+"])("+d+"('s)?)(?![-"+characterRanges.latinLetters+"])","i");else switch("string"==typeof d&&(d=d.toLowerCase()),d){case"all":S=/(.)/;break;case"letter":case"char":case"character":S=/(\S)/;break;case"word":S=/\s*(\S+)\s*/;break;case"sentence":S=/(?=\S)(([.]{2,})?[^!?]+?([.\u2026!?]+|(?=\s+$)|$)(\s*[\u2032\u2019'\u201d\u2033\u201c")\xbb]+)*)/;break;case"element":S=/(?=\S)([\S\s]*\S)/;break;default:d instanceof RegExp?S=d:console.log(NAME+": Unrecognized delimiter, empty search string, or invalid custom Regex. Aborting.")}return{delimiter:d,delimiterRegex:S}}(v||this.opts)}getText(v){return L(v)}processElements(v=null,d=null){return((v,d)=>v.map(S=>{const E=L(S);let O=d.tag||"span";try{document.createElement(O)}catch{O="span",d.debug&&console.log(NAME+": Invalid tag supplied. Defaulting to span.")}return d.aria&&S.setAttribute("aria-label",E),S.classList.add("blast-root"),S}))(v||this.elements,d||this.opts)}}},4192:()=>{!function(){"use strict";var K,et,P,v,d,S,E,O,q,k,F=Math.abs,Z=Math.sin,L=Math.cos,R=Math.max,A=Math.min,gt=Math.ceil,it=Math.sqrt,tt=Math.pow,ct={},at={},dt={0:"0,",1:"17,",2:"34,",3:"51,",4:"68,",5:"85,",6:"102,",7:"119,",8:"136,",9:"153,",a:"170,",A:"170,",b:"187,",B:"187,",c:"204,",C:"204,",d:"221,",D:"221,",e:"238,",E:"238,",f:"255,",F:"255,"},z=document,B={};for(K=0;K<256;++K)et=K.toString(16),K<16&&(et="0"+et),at[et]=at[et.toUpperCase()]=K.toString()+",";function V(t){return typeof t<"u"}function mt(t){return"object"==typeof t&&null!=t}function yt(t,e,n){return isNaN(t)?n:A(n,R(e,t))}function rt(){return!1}function nt(){return(new Date).valueOf()}function Ot(t){for(var n,i,e=t.length-1;e;)i=~~(Math.random()*e),n=t[e],t[e]=t[i],t[i]=n,--e}function y(t,e,n){this.x=t,this.y=e,this.z=n}function $(t){this[1]={1:t[0],2:t[1],3:t[2]},this[2]={1:t[3],2:t[4],3:t[5]},this[3]={1:t[6],2:t[7],3:t[8]}}function Pt(t,e,n,i,s){var a,r,o,f,w,l=[],g=2/t;for(w=Math.PI*(3-it(5)+(parseFloat(s)?parseFloat(s):0)),a=0;a<t;++a)o=it(1-(r=a*g-1+g/2)*r),l.push([L(f=a*w)*o*e,r*n,Z(f)*o*i]);return l}function St(t,e,n,i,s,a){var r,l,g,w,T,C,o=[],f=2/t;for(l=Math.PI*(3-it(5)+(parseFloat(a)?parseFloat(a):0)),g=0;g<t;++g)w=g*f-1+f/2,T=L(r=g*l),C=Z(r),o.push(e?[w*n,T*i,C*s]:[T*n,w*i,C*s]);return o}function _t(t,e,n,i,s,a){var r,l,g,w,o=[],f=2*Math.PI/e;for(l=0;l<e;++l)g=L(r=l*f),w=Z(r),o.push(t?[a*n,g*i,w*s]:[g*n,a*i,w*s]);return o}function Et(t,e,n,i,s){return St(t,0,e,n,i,s)}function N(t,e,n,i,s){return St(t,1,e,n,i,s)}function Ct(t,e,n,i,s){return _t(0,t,e,n,i,s=isNaN(s)?0:1*s)}function Ft(t,e,n,i,s){return _t(1,t,e,n,i,s=isNaN(s)?0:1*s)}function G(t,e){if(window.G_vmlCanvasManager)return null;var n=z.createElement("canvas");return n.width=t,n.height=e,n}function Nt(t,e,n,i){var a,s=t.createLinearGradient(0,0,e,0);for(a in i)s.addColorStop(1-a,i[a]);t.fillStyle=s,t.fillRect(0,n,e,1)}function wt(t,e,n){var r,o,f,l,i=1024,s=1,a=t.weightGradient;if(t.gCanvas)o=t.gCanvas.getContext("2d"),s=t.gCanvas.height;else{if(mt(a[0])?s=a.length:a=[a],t.gCanvas=r=G(i,s),!r)return null;for(o=r.getContext("2d"),f=0;f<s;++f)Nt(o,i,f,a[f])}return n=R(A(n||0,s-1),0),"rgba("+(l=o.getImageData(~~((i-1)*e),n,1,1).data)[0]+","+l[1]+","+l[2]+","+l[3]/255+")"}function Dt(t,e,n,i,s,a,r,o,f,l,g,w){var I,H,T=s+(o||0)+(f.length&&f[0]<0?F(f[0]):0),C=a+(o||0)+(f.length&&f[1]<0?F(f[1]):0);for(t.font=e,t.textBaseline="top",t.fillStyle=n,r&&(t.shadowColor=r),o&&(t.shadowBlur=o),f.length&&(t.shadowOffsetX=f[0],t.shadowOffsetY=f[1]),I=0;I<i.length;++I)H=0,g&&("right"==w?H=l-g[I]:"centre"==w&&(H=(l-g[I])/2)),t.fillText(i[I],T+H,C),C+=parseInt(e)}function st(t,e,n,i,s,a,r){a?(t.beginPath(),t.moveTo(e,n+s-a),t.arcTo(e,n,e+a,n,a),t.arcTo(e+i,n,e+i,n+a,a),t.arcTo(e+i,n+s,e+i-a,n+s,a),t.arcTo(e,n+s,e,n+s-a,a),t.closePath(),t[r?"stroke":"fill"]()):t[r?"strokeRect":"fillRect"](e,n,i,s)}function bt(t,e,n,i,s,a,r,o,f){this.strings=t,this.font=e,this.width=n,this.height=i,this.maxWidth=s,this.stringWidths=a,this.align=r,this.valign=o,this.scale=f}function Tt(t,e,n){var i=G(e,n);return i?(i.getContext("2d").drawImage(t,(e-t.width)/2,(n-t.height)/2),i):null}function xt(t,e,n){var i=G(e,n);return i?(i.getContext("2d").drawImage(t,0,0,e,n),i):null}function It(t,e,n,i,s,a,r,o,f,l){var C,I,H,J,Y,Q,W,lt,g=e+(2*o+a)*i,w=n+(2*o+a)*i,T=G(g,w);return T?(f*=i,J=g-(a*=i),Y=w-a,o=o*i+(I=H=a/2),C=T.getContext("2d"),lt=A(f,J/2,Y/2),s&&(C.fillStyle=s,st(C,I,H,J,Y,lt)),a&&(C.strokeStyle=r,C.lineWidth=a,st(C,I,H,J,Y,lt,!0)),l?((W=(Q=G(g,w)).getContext("2d")).drawImage(t,o,o,e,n),W.globalCompositeOperation="source-in",W.fillStyle=r,W.fillRect(0,0,g,w),W.globalCompositeOperation="destination-over",W.drawImage(T,0,0),W.globalCompositeOperation="source-over",C.drawImage(Q,0,0)):C.drawImage(t,o,o,t.width,t.height),{image:T,width:g/i,height:w/i}):null}function h(t,e,n){var r,o,f,l,g,w,C,i=parseInt(t.toString().length*n),s=parseInt(2*n*t.length),a=G(i,s);if(!a)return null;for((r=a.getContext("2d")).fillStyle="#000",r.fillRect(0,0,i,s),Dt(r,n+"px "+e,"#fff",t,0,0,0,0,[],"centre"),C={min:{x:f=(o=r.getImageData(0,0,i,s)).width,y:l=o.height},max:{x:-1,y:-1}},w=0;w<l;++w)for(g=0;g<f;++g)o.data[4*(w*f+g)+1]>0&&(g<C.min.x&&(C.min.x=g),g>C.max.x&&(C.max.x=g),w<C.min.y&&(C.min.y=w),w>C.max.y&&(C.max.y=w));return f!=i&&(C.min.x*=i/f,C.max.x*=i/f),l!=s&&(C.min.y*=i/l,C.max.y*=i/l),a=null,C}function c(t){return"'"+t.replace(/(\'|\")/g,"").replace(/\s*,\s*/g,"', '")+"'"}function u(t,e,n){(n=n||z).addEventListener?n.addEventListener(t,e,!1):n.attachEvent("on"+t,e)}function m(t,e,n){(n=n||z).removeEventListener?n.removeEventListener(t,e):n.detachEvent("on"+t,e)}function x(t,e,n,i){var a,r,o,f,l,g,s=i.imageScale;return e.complete?t.complete?(e.width=e.width,e.height=e.height,s&&(t.width=e.width*s,t.height=e.height*s),n.iw=t.width,n.ih=t.height,i.txtOpt&&(r=t,g=n.ih*(a=i.zoomMax*i.txtScale),(l=n.iw*a)<e.naturalWidth||g<e.naturalHeight?(r=xt(t,l,g))&&(n.fimage=r):(l=n.iw,g=n.ih,a=1),parseFloat(i.imageRadius)&&(n.image=n.fimage=t=function Lt(t,e,n,i,s){var a,r,o=parseFloat(e),f=R(n,i);return(a=G(n,i))?(e.indexOf("%")>0?o=f*o/100:o*=s,(r=a.getContext("2d")).globalCompositeOperation="source-over",r.fillStyle="#fff",o>=f/2?(o=A(n,i)/2,r.beginPath(),r.moveTo(n/2,i/2),r.arc(n/2,i/2,o,0,2*Math.PI,!1),r.fill(),r.closePath()):(st(r,0,0,n,i,o=A(n/2,i/2,o),!0),r.fill()),r.globalCompositeOperation="source-in",r.drawImage(t,0,0,n,i),a):null}(n.image,i.imageRadius,l,g,a)),n.HasText()||(i.shadow&&(r=function Bt(t,e,n,i,s,a,r){var C,I,o=F(r[0]),f=F(r[1]),l=e+(o>a?o+a:2*a)*i,g=n+(f>a?f+a:2*a)*i,w=i*((a||0)+(r[0]<0?o:0)),T=i*((a||0)+(r[1]<0?f:0));return(C=G(l,g))?(I=C.getContext("2d"),s&&(I.shadowColor=s),a&&(I.shadowBlur=a*i),r&&(I.shadowOffsetX=r[0]*i,I.shadowOffsetY=r[1]*i),I.drawImage(t,w,T,e,n),{image:C,width:l/i,height:g/i}):null}(n.image,l,g,a,i.shadow,i.shadowBlur,i.shadowOffset),r&&(n.fimage=r.image,n.w=r.width,n.h=r.height)),(i.bgColour||i.bgOutlineThickness)&&(o="tag"==i.bgColour?p(n.a,"background-color"):i.bgColour,f="tag"==i.bgOutline?p(n.a,"color"):i.bgOutline||i.textColour,l=n.fimage.width,g=n.fimage.height,"colour"==i.outlineMethod&&(r=It(n.fimage,l,g,a,o,i.bgOutlineThickness,n.outline.colour,i.padding,i.bgRadius,1))&&(n.oimage=r.image),(r=It(n.fimage,l,g,a,o,i.bgOutlineThickness,f,i.padding,i.bgRadius))&&(n.fimage=r.image,n.w=r.width,n.h=r.height)),"size"==i.outlineMethod&&(i.outlineIncrease>0?(n.iw+=2*i.outlineIncrease,n.ih+=2*i.outlineIncrease,r=xt(n.fimage,l=a*n.iw,g=a*n.ih),n.oimage=r,n.fimage=Tt(n.fimage,n.oimage.width,n.oimage.height)):(r=xt(n.fimage,l=a*(n.iw+2*i.outlineIncrease),g=a*(n.ih+2*i.outlineIncrease)),n.oimage=Tt(r,n.fimage.width,n.fimage.height))))),void n.Init()):u("load",function(){x(t,e,n,i)},t):u("load",function(){x(t,e,n,i)},e)}function p(t,e){var n=z.defaultView,i=e.replace(/\-([a-z])/g,function(s){return s.charAt(1).toUpperCase()});return n&&n.getComputedStyle&&n.getComputedStyle(t,null).getPropertyValue(e)||t.currentStyle&&t.currentStyle[i]}function _(t,e,n){var s,i=1;return e?i=1*(t.getAttribute(e)||n):(s=p(t,"font-size"))&&(i=s.indexOf("px")>-1&&1*s.replace("px","")||s.indexOf("pt")>-1&&1.25*s.replace("pt","")||3.3*s),i}function M(t){return t.target&&V(t.target.id)?t.target.id:t.srcElement.parentNode.id}function X(t,e){var n,i,s=parseInt(p(e,"width"))/e.width,a=parseInt(p(e,"height"))/e.height;return V(t.offsetX)?n={x:t.offsetX,y:t.offsetY}:(i=Xt(e.id),V(t.changedTouches)&&(t=t.changedTouches[0]),t.pageX&&(n={x:t.pageX-i.x,y:t.pageY-i.y})),n&&s&&a&&(n.x/=s,n.y/=a),n}function D(t){var n=b.tc[(t.target||t.fromElement.parentNode).id];n&&(n.mx=n.my=-1,n.UnFreeze(),n.EndDrag())}function U(t){var e,i,s,n=b,a=M(t);for(e in n.tc)(i=n.tc[e]).tttimer&&(clearTimeout(i.tttimer),i.tttimer=null);a&&n.tc[a]&&((s=X(t,(i=n.tc[a]).canvas))&&(i.mx=s.x,i.my=s.y,i.Drag(t,s)),i.drawn=0)}function ot(t){var e=b,n=z.addEventListener?0:1,i=M(t);i&&t.button==n&&e.tc[i]&&e.tc[i].BeginDrag(t)}function j(t){var s,e=b,n=z.addEventListener?0:1,i=M(t);i&&t.button==n&&e.tc[i]&&(s=e.tc[i],U(t),!s.EndDrag()&&!s.touchState&&s.Clicked(t))}function ht(t){var i,e=M(t),n=e&&b.tc[e];n&&t.changedTouches&&(1==t.touches.length&&0==n.touchState?(n.touchState=1,n.BeginDrag(t),(i=X(t,n.canvas))&&(n.mx=i.x,n.my=i.y,n.drawn=0)):2==t.targetTouches.length&&n.pinchZoom?(n.touchState=3,n.EndDrag(),n.BeginPinch(t)):(n.EndDrag(),n.EndPinch(),n.touchState=0))}function vt(t){var e=M(t),n=e&&b.tc[e];if(n&&t.changedTouches){switch(n.touchState){case 1:n.Draw(),n.Clicked();break;case 2:n.EndDrag();break;case 3:n.EndPinch()}n.touchState=0}}function jt(t){var e,i,s,n=b,a=M(t);for(e in n.tc)(i=n.tc[e]).tttimer&&(clearTimeout(i.tttimer),i.tttimer=null);if((i=a&&n.tc[a])&&t.changedTouches&&i.touchState){switch(i.touchState){case 1:case 2:(s=X(t,i.canvas))&&(i.mx=s.x,i.my=s.y,i.Drag(t,s)&&(i.touchState=2));break;case 3:i.Pinch(t)}i.drawn=0}}function Wt(t){var e=b,n=M(t);n&&e.tc[n]&&(t.cancelBubble=!0,t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.tc[n].Wheel((t.wheelDelta||t.detail)>0))}function Kt(t){var e,n=b;for(e in clearTimeout(n.scrollTimer),n.tc)n.tc[e].Pause();n.scrollTimer=setTimeout(function(){var i,s=b;for(i in s.tc)s.tc[i].Resume()},n.scrollPause)}function te(){Gt(nt())}function Gt(t){var n,e=b.tc;for(n in b.NextFrame(b.interval),t=t||nt(),e)e[n].Draw(t)}function Xt(t){var n=z.getElementById(t).getBoundingClientRect(),i=z.documentElement,s=z.body,a=window;return{x:n.left+(a.pageXOffset||i.scrollLeft)-(i.clientLeft||s.clientLeft),y:n.top+(a.pageYOffset||i.scrollTop)-(i.clientTop||s.clientTop)}}function Yt(t){this.e=t,this.br=0,this.line=[],this.text=[],this.original=t.innerText||t.textContent}function qt(t,e){this.ts=null,this.tc=t,this.tag=e,this.x=this.y=this.w=this.h=this.sc=1,this.z=0,this.pulse=1,this.pulsate=t.pulsateTo<1,this.colour=t.outlineColour,this.adash=~~t.outlineDash,this.agap=~~t.outlineDashSpace||this.adash,this.aspeed=1*t.outlineDashSpeed,"tag"==this.colour?this.colour=p(e.a,"color"):"tagbg"==this.colour&&(this.colour=p(e.a,"background-color")),this.Draw=this.pulsate?this.DrawPulsate:this.DrawSimple,this.radius=0|t.outlineRadius,this.SetMethod(t.outlineMethod)}function Mt(t,e,n,i,s,a,r,o,f,l,g,w,T,C){this.tc=t,this.image=null,this.text=e,this.text_original=C,this.line_widths=[],this.title=n.title||null,this.a=n,this.position=new y(i[0],i[1],i[2]),this.x=this.y=this.z=0,this.w=s,this.h=a,this.colour=r||t.textColour,this.bgColour=o||t.bgColour,this.bgRadius=0|f,this.bgOutline=l||this.colour,this.bgOutlineThickness=0|g,this.textFont=w||t.textFont,this.padding=0|T,this.sc=this.alpha=1,this.weighted=!t.weight,this.outline=new qt(t,this)}function b(t,e,n){var i,s,o,f,a=z.getElementById(t),r=["id","class","innerHTML"];if(!a)throw 0;if(V(window.G_vmlCanvasManager)&&(a=window.G_vmlCanvasManager.initElement(a),this.ie=parseFloat(navigator.appVersion.split("MSIE")[1])),a&&(!a.getContext||!a.getContext("2d").fillText)){for(s=z.createElement("DIV"),i=0;i<r.length;++i)s[r[i]]=a[r[i]];throw a.parentNode.insertBefore(s,a),a.parentNode.removeChild(a),0}for(i in b.options)this[i]=n&&V(n[i])?n[i]:V(b[i])?b[i]:b.options[i];if(this.canvas=a,this.ctxt=a.getContext("2d"),this.z1=250/R(this.depth,.001),this.z2=this.z1/this.zoom,this.radius=.0075*A(a.height,a.width),this.max_radius=100,this.max_weight=[],this.min_weight=[],this.textFont=this.textFont&&c(this.textFont),this.textHeight*=1,this.imageRadius=this.imageRadius.toString(),this.pulsateTo=yt(this.pulsateTo,0,1),this.minBrightness=yt(this.minBrightness,0,1),this.maxBrightness=yt(this.maxBrightness,this.minBrightness,1),this.ctxt.textBaseline="top",this.lx=(this.lock+"").indexOf("x")+1,this.ly=(this.lock+"").indexOf("y")+1,this.frozen=this.dx=this.dy=this.fixedAnim=this.touchState=0,this.fixedAlpha=1,this.source=e||t,this.repeatTags=A(64,~~this.repeatTags),this.minTags=A(200,~~this.minTags),~~this.scrollPause>0?b.scrollPause=~~this.scrollPause:this.scrollPause=0,this.minTags>0&&this.repeatTags<1&&(i=this.GetTags().length)&&(this.repeatTags=gt(this.minTags/i)-1),this.transform=$.Identity(),this.startTime=this.time=nt(),this.mx=this.my=-1,this.centreImage&&function Rt(t){var e=new Image;e.onload=function(){var n=e.width/2,i=e.height/2;t.centreFunc=function(s,a,r,o,f){s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,s.drawImage(e,o-n,f-i)}},e.src=t.centreImage}(this),this.Animate=this.dragControl?this.AnimateDrag:this.AnimatePosition,this.animTiming="function"==typeof b[this.animTiming]?b[this.animTiming]:b.Smooth,this.shadowBlur||this.shadowOffset[0]||this.shadowOffset[1]?(this.ctxt.shadowColor=this.shadow,this.shadow=this.ctxt.shadowColor,this.shadowAlpha=function Zt(){var e,t=G(3,3);return!!t&&((e=t.getContext("2d")).strokeStyle="#000",e.shadowColor="#fff",e.shadowBlur=3,e.globalAlpha=0,e.strokeRect(2,2,2,2),e.globalAlpha=1,t=null,e.getImageData(2,2,1,1).data[0]>0)}()):delete this.shadow,this.Load(),e&&this.hideTags&&(f=this,b.loaded?f.HideTags():u("load",function(){f.HideTags()},window)),this.yaw=this.initial?this.initial[0]*this.maxSpeed:0,this.pitch=this.initial?this.initial[1]*this.maxSpeed:0,this.tooltip?(this.ctitle=a.title,a.title="","native"==this.tooltip?this.Tooltip=this.TooltipNative:(this.Tooltip=this.TooltipDiv,this.ttdiv||(this.ttdiv=z.createElement("div"),this.ttdiv.className=this.tooltipClass,this.ttdiv.style.position="absolute",this.ttdiv.style.zIndex=a.style.zIndex+1,u("mouseover",function(f){f.target.style.display="none"},this.ttdiv),z.body.appendChild(this.ttdiv)))):this.Tooltip=this.TooltipNone,!this.noMouse&&!B[t])for(B[t]=[["mousemove",U],["mouseout",D],["mouseup",j],["touchstart",ht],["touchend",vt],["touchcancel",vt],["touchmove",jt]],this.dragControl&&(B[t].push(["mousedown",ot]),B[t].push(["selectstart",rt])),this.wheelZoom&&(B[t].push(["mousewheel",Wt]),B[t].push(["DOMMouseScroll",Wt])),this.scrollPause&&B[t].push(["scroll",Kt,window]),i=0;i<B[t].length;++i)u((s=B[t][i])[0],s[1],s[2]?s[2]:a);b.started||(o=window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,b.NextFrame=o?b.NextFrameRAF:b.NextFrameTimeout,b.interval=this.interval,b.NextFrame(this.interval),b.started=1)}function $t(t){var e=t.targetTouches[0],n=t.targetTouches[1];return it(tt(n.pageX-e.pageX,2)+tt(n.pageY-e.pageY,2))}function At(t,e){b.tc[e]&&b.tc[e][t]()}for(K in(E=y.prototype).length=function(){return it(this.x*this.x+this.y*this.y+this.z*this.z)},E.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},E.cross=function(t){return new y(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},E.angle=function(t){var n,e=this.dot(t);return 0==e?Math.PI/2:(n=e/(this.length()*t.length()))>=1?0:n<=-1?Math.PI:Math.acos(n)},E.unit=function(){var t=this.length();return new y(this.x/t,this.y/t,this.z/t)},S=$.prototype,$.Identity=function(){return new $([1,0,0,0,1,0,0,0,1])},$.Rotation=function(t,e){var n=Z(t),i=L(t),s=1-i;return new $([i+tt(e.x,2)*s,e.x*e.y*s-e.z*n,e.x*e.z*s+e.y*n,e.y*e.x*s+e.z*n,i+tt(e.y,2)*s,e.y*e.z*s-e.x*n,e.z*e.x*s-e.y*n,e.z*e.y*s+e.x*n,i+tt(e.z,2)*s])},S.mul=function(t){var n,i,e=[],s=t.xform?1:0;for(n=1;n<=3;++n)for(i=1;i<=3;++i)e.push(s?this[n][1]*t[1][i]+this[n][2]*t[2][i]+this[n][3]*t[3][i]:this[n][i]*t);return new $(e)},S.xform=function(t){var e={},n=t.x,i=t.y,s=t.z;return e.x=n*this[1][1]+i*this[2][1]+s*this[3][1],e.y=n*this[1][2]+i*this[2][2]+s*this[3][2],e.z=n*this[1][3]+i*this[2][3]+s*this[3][3],e},(q=bt.prototype).SetImage=function(t,e,n,i,s,a,r,o){this.image=t,this.iwidth=e*this.scale,this.iheight=n*this.scale,this.ipos=i,this.ipad=s*this.scale,this.iscale=o,this.ialign=a,this.ivalign=r},q.Align=function(t,e,n){var i=0;return"right"==n||"bottom"==n?i=e-t:"left"!=n&&"top"!=n&&(i=(e-t)/2),i},q.Create=function(t,e,n,i,s,a,r,o,f){var l,g,w,T,C,I,H,J,Y,Q,W,lt,ut,ft,Ht,zt,Vt,Jt=F(r[0]),Qt=F(r[1]);return o=R(o,Jt+a,Qt+a),g=this.width+(C=2*(o+i)),w=this.height+(H=2*(o+i)),Y=Q=o+i,this.image&&(W=lt=o+i,ut=this.iwidth,ft=this.iheight,"top"==this.ipos||"bottom"==this.ipos?(ut<this.width?W+=this.Align(ut,this.width,this.ialign):Y+=this.Align(this.width,ut,this.align),"top"==this.ipos?Q+=ft+this.ipad:lt+=this.height+this.ipad,g=R(g,ut+C),w+=ft+this.ipad):(ft<this.height?lt+=this.Align(ft,this.height,this.ivalign):Q+=this.Align(this.height,ft,this.valign),"right"==this.ipos?W+=this.width+this.ipad:Y+=ut+this.ipad,g+=ut+this.ipad,w=R(w,ft+H))),(l=G(g,w))?(C=H=i/2,Ht=A(f,(I=g-i)/2,(J=w-i)/2),T=l.getContext("2d"),e&&(T.fillStyle=e,st(T,C,H,I,J,Ht)),i&&(T.strokeStyle=n,T.lineWidth=i,st(T,C,H,I,J,Ht,!0)),(a||Jt||Qt)&&(zt=G(g,w))&&(Vt=T,T=zt.getContext("2d")),Dt(T,this.font,t,this.strings,Y,Q,0,0,[],this.maxWidth,this.stringWidths,this.align),this.image&&T.drawImage(this.image,W,lt,ut,ft),Vt&&(T=Vt,s&&(T.shadowColor=s),a&&(T.shadowBlur=a),T.shadowOffsetX=r[0],T.shadowOffsetY=r[1],T.drawImage(zt,0,0)),l):null},(O=Yt.prototype).Empty=function(){for(var t=0;t<this.text.length;++t)if(this.text[t].length)return!1;return!0},O.Lines=function(t){var n,i,s,e=t?1:0;for(i=(n=(t=t||this.e).childNodes).length,s=0;s<i;++s)"BR"==n[s].nodeName?(this.text.push(this.line.join(" ")),this.br=1):3==n[s].nodeType?this.br?(this.line=[n[s].nodeValue],this.br=0):this.line.push(n[s].nodeValue):this.Lines(n[s]);return e||this.br||this.text.push(this.line.join(" ")),this.text},O.SplitWidth=function(t,e,n,i){var s,a,r,o=[];for(e.font=i+"px "+n,s=0;s<this.text.length;++s){for(r=this.text[s].split(/\s+/),this.line=[r[0]],a=1;a<r.length;++a)e.measureText(this.line.join(" ")+" "+r[a]).width>t?(o.push(this.line.join(" ")),this.line=[r[a]]):this.line.push(r[a]);o.push(this.line.join(" "))}return this.text=o},(P=qt.prototype).SetMethod=function(t){var e={block:["PreDraw","DrawBlock"],colour:["PreDraw","DrawColour"],outline:["PostDraw","DrawOutline"],classic:["LastDraw","DrawOutline"],size:["PreDraw","DrawSize"],none:["LastDraw"]},n=e[t]||e.outline;"none"==t?this.Draw=function(){return 1}:this.drawFunc=this[n[1]],this[n[0]]=this.Draw},P.Update=function(t,e,n,i,s,a,r,o){var f=this.tc.outlineOffset,l=2*f;this.x=s*t+r-f,this.y=s*e+o-f,this.w=s*n+l,this.h=s*i+l,this.sc=s,this.z=a},P.Ants=function(t){if(this.adash){var g,e=this.adash,n=this.agap,i=this.aspeed,s=e+n,a=0,r=e,o=n,f=0,l=0;i&&(l=F(i)*(nt()-this.ts)/50,i<0&&(l=864e4-l),i=~~l%s),i?(e>=i?(a=e-i,r=i):f=n-(o=s-i),g=[a,o,r,f]):g=[e,n],t.setLineDash(g)}},P.DrawOutline=function(t,e,n,i,s,a){var r=A(this.radius,s/2,i/2);t.strokeStyle=a,this.Ants(t),st(t,e,n,i,s,r,!0)},P.DrawSize=function(t,e,n,i,s,a,r,o,f){var w,T,l=r.w,g=r.h;return this.pulsate?(T=r.fimage||r.image,r.h*=w=1+((r.image?(r.image.height+this.tc.outlineIncrease)/r.image.height:r.oscale)-1)*(1-this.pulse),r.w*=w):T=r.oimage,r.alpha=1,r.Draw(t,o,f,T),r.h=g,r.w=l,1},P.DrawColour=function(t,e,n,i,s,a,r,o,f){return r.oimage?(this.pulse<1?(r.alpha=1-tt(this.pulse,2),r.Draw(t,o,f,r.fimage),r.alpha=this.pulse):r.alpha=1,r.Draw(t,o,f,r.oimage),1):this[r.image?"DrawColourImage":"DrawColourText"](t,e,n,i,s,a,r,o,f)},P.DrawColourText=function(t,e,n,i,s,a,r,o,f){var l=r.colour;return r.colour=a,r.alpha=1,r.Draw(t,o,f),r.colour=l,1},P.DrawColourImage=function(t,e,n,i,s,a,r,o,f){var l=t.canvas,g=~~R(e,0),w=~~R(n,0),T=A(l.width-g,i)+.5|0,C=A(l.height-w,s)+.5|0;return k?(k.width=T,k.height=C):k=G(T,C),k?(k.getContext("2d").drawImage(l,g,w,T,C,0,0,T,C),t.clearRect(g,w,T,C),r.alpha=this.pulsate?1-tt(this.pulse,2):1,r.Draw(t,o,f),t.setTransform(1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(g,w,T,C),t.clip(),t.globalCompositeOperation="source-in",t.fillStyle=a,t.fillRect(g,w,T,C),t.restore(),t.globalAlpha=1,t.globalCompositeOperation="destination-over",t.drawImage(k,0,0,T,C,g,w,T,C),t.globalCompositeOperation="source-over",1):this.SetMethod("outline")},P.DrawBlock=function(t,e,n,i,s,a){var r=A(this.radius,s/2,i/2);t.fillStyle=a,st(t,e,n,i,s,r)},P.DrawSimple=function(t,e,n,i,s,a){var r=this.tc;return t.setTransform(1,0,0,1,0,0),t.strokeStyle=this.colour,t.lineWidth=r.outlineThickness,t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0,t.globalAlpha=a?s:1,this.drawFunc(t,this.x,this.y,this.w,this.h,this.colour,e,n,i)},P.DrawPulsate=function(t,e,n,i){var s=nt()-this.ts,a=this.tc,r=a.pulsateTo+(1-a.pulsateTo)*(.5+L(2*Math.PI*s/(1e3*a.pulsateTime))/2);return this.pulse=r=b.Smooth(1,r),this.DrawSimple(t,e,n,i,r,1)},P.Active=function(t,e,n){var i=e>=this.x&&n>=this.y&&e<=this.x+this.w&&n<=this.y+this.h;return this.ts=i?this.ts||nt():null,i},P.PreDraw=P.PostDraw=P.LastDraw=rt,(v=Mt.prototype).Init=function(t){var e=this.tc;this.textHeight=e.textHeight,this.HasText()?this.Measure(e.ctxt,e):(this.w=this.iw,this.h=this.ih),this.SetShadowColour=e.shadowAlpha?this.SetShadowColourAlpha:this.SetShadowColourFixed,this.SetDraw(e)},v.Draw=rt,v.HasText=function(){return this.text&&this.text[0].length>0},v.EqualTo=function(t){var e=t.getElementsByTagName("img");return this.a.href!=t.href?0:e.length?this.image.src==e[0].src:(t.innerText||t.textContent)==this.text_original},v.SetImage=function(t){this.image=this.fimage=t},v.SetDraw=function(t){this.Draw=this.fimage?t.ie>7?this.DrawImageIE:this.DrawImage:this.DrawText,t.noSelect&&(this.CheckActive=rt)},v.MeasureText=function(t){var e,s,n=this.text.length,i=0;for(e=0;e<n;++e)this.line_widths[e]=s=t.measureText(this.text[e]).width,i=R(i,s);return i},v.Measure=function(t,e){var i,s,a,r,o,f,l,g,w,n=h(this.text,this.textFont,this.textHeight);l=n?n.max.y+n.min.y:this.textHeight,t.font=this.font=this.textHeight+"px "+this.textFont,f=this.MeasureText(t),e.txtOpt&&(r=[(i=e.txtScale)*e.shadowOffset[0],i*e.shadowOffset[1]],t.font=a=(s=i*this.textHeight)+"px "+this.textFont,o=this.MeasureText(t),w=new bt(this.text,a,o+i,i*l+i,o,this.line_widths,e.textAlign,e.textVAlign,i),this.image&&w.SetImage(this.image,this.iw,this.ih,e.imagePosition,e.imagePadding,e.imageAlign,e.imageVAlign,e.imageScale),g=w.Create(this.colour,this.bgColour,this.bgOutline,i*this.bgOutlineThickness,e.shadow,i*e.shadowBlur,r,i*this.padding,i*this.bgRadius),"colour"==e.outlineMethod?this.oimage=w.Create(this.outline.colour,this.bgColour,this.outline.colour,i*this.bgOutlineThickness,e.shadow,i*e.shadowBlur,r,i*this.padding,i*this.bgRadius):"size"==e.outlineMethod&&(s=(n=h(this.text,this.textFont,this.textHeight+e.outlineIncrease)).max.y+n.min.y,t.font=a=i*(this.textHeight+e.outlineIncrease)+"px "+this.textFont,o=this.MeasureText(t),w=new bt(this.text,a,o+i,i*s+i,o,this.line_widths,e.textAlign,e.textVAlign,i),this.image&&w.SetImage(this.image,this.iw+e.outlineIncrease,this.ih+e.outlineIncrease,e.imagePosition,e.imagePadding,e.imageAlign,e.imageVAlign,e.imageScale),this.oimage=w.Create(this.colour,this.bgColour,this.bgOutline,i*this.bgOutlineThickness,e.shadow,i*e.shadowBlur,r,i*this.padding,i*this.bgRadius),this.oscale=this.oimage.width/g.width,e.outlineIncrease>0?g=Tt(g,this.oimage.width,this.oimage.height):this.oimage=Tt(this.oimage,g.width,g.height)),g&&(this.fimage=g,f=this.fimage.width/i,l=this.fimage.height/i),this.SetDraw(e),e.txtOpt=!!this.fimage),this.h=l,this.w=f},v.SetFont=function(t,e,n,i){this.textFont=t,this.colour=e,this.bgColour=n,this.bgOutline=i,this.Measure(this.tc.ctxt,this.tc)},v.SetWeight=function(t){var i,s,e=this.tc,n=e.weightMode.split(/[, ]/),a=t.length;if(this.HasText()){for(this.weighted=!0,s=0;s<a;++s)"both"==(i=n[s]||"size")?(this.Weight(t[s],e.ctxt,e,"size",e.min_weight[s],e.max_weight[s],s),this.Weight(t[s],e.ctxt,e,"colour",e.min_weight[s],e.max_weight[s],s)):this.Weight(t[s],e.ctxt,e,i,e.min_weight[s],e.max_weight[s],s);this.Measure(e.ctxt,e)}},v.Weight=function(t,e,n,i,s,a,r){var o=((t=isNaN(t)?1:t)-s)/(a-s);"colour"==i?this.colour=wt(n,o,r):"bgcolour"==i?this.bgColour=wt(n,o,r):"bgoutline"==i?this.bgOutline=wt(n,o,r):"outline"==i?this.outline.colour=wt(n,o,r):"size"==i&&(this.textHeight=n.weightSizeMin>0&&n.weightSizeMax>n.weightSizeMin?n.weightSize*(n.weightSizeMin+(n.weightSizeMax-n.weightSizeMin)*o):R(1,t*n.weightSize))},v.SetShadowColourFixed=function(t,e,n){t.shadowColor=e},v.SetShadowColourAlpha=function(t,e,n){t.shadowColor=function kt(t,e){var i,s,n=t,a=(1*e).toPrecision(3)+")";return"#"===t[0]?(ct[t]||(ct[t]=4===t.length?"rgba("+dt[t[1]]+dt[t[2]]+dt[t[3]]:"rgba("+at[t.substr(1,2)]+at[t.substr(3,2)]+at[t.substr(5,2)]),n=ct[t]+a):"rgb("===t.substr(0,4)||"hsl("===t.substr(0,4)?n=t.replace("(","a(").replace(")",","+a):("rgba("===t.substr(0,5)||"hsla("===t.substr(0,5))&&(i=t.lastIndexOf(",")+1,s=t.indexOf(")"),e*=parseFloat(t.substring(i,s)),n=t.substr(0,i)+e.toPrecision(3)+")"),n}(e,n)},v.DrawText=function(t,e,n){var o,f,i=this.tc,s=this.x,a=this.y,r=this.sc;for(t.globalAlpha=this.alpha,t.fillStyle=this.colour,i.shadow&&this.SetShadowColour(t,i.shadow,this.alpha),t.font=this.font,s+=e/r,a+=n/r-this.h/2,o=0;o<this.text.length;++o)f=s,"right"==i.textAlign?f+=this.w/2-this.line_widths[o]:f-="centre"==i.textAlign?this.line_widths[o]/2:this.w/2,t.setTransform(r,0,0,r,r*f,r*a),t.fillText(this.text[o],0,0),a+=this.textHeight},v.DrawImage=function(t,e,n,i){var s=this.x,a=this.y,r=this.sc,o=i||this.fimage,f=this.w,l=this.h,g=this.alpha,w=this.shadow;t.globalAlpha=g,w&&this.SetShadowColour(t,w,g),t.setTransform(r,0,0,r,r*(s+=e/r-f/2),r*(a+=n/r-l/2)),t.drawImage(o,0,0,f,l)},v.DrawImageIE=function(t,e,n){var i=this.fimage,s=this.sc,a=i.width=this.w*s,r=i.height=this.h*s,o=this.x*s+e-a/2,f=this.y*s+n-r/2;t.setTransform(1,0,0,1,0,0),t.globalAlpha=this.alpha,t.drawImage(i,o,f)},v.Calc=function(t,e){var n,i=this.tc,s=i.minBrightness,a=i.maxBrightness,r=i.max_radius;return n=t.xform(this.position),this.xformed=n,n=function ee(t,e,n,i){var s=t.radius*t.z1/(t.z1+t.z2+e.z);return{x:e.x*s*n,y:e.y*s*i,z:e.z,w:(t.z1-e.z)/t.z2}}(i,n,i.stretchX,i.stretchY),this.x=n.x,this.y=n.y,this.z=n.z,this.sc=n.w,this.alpha=e*yt(s+(a-s)*(r-this.z)/(2*r),0,1),this.xformed},v.UpdateActive=function(t,e,n){var i=this.outline,s=this.w,a=this.h;return i.Update(this.x-s/2,this.y-a/2,s,a,this.sc,this.z,e,n),i},v.CheckActive=function(t,e,n){var i=this.tc,s=this.UpdateActive(t,e,n);return s.Active(t,i.mx,i.my)?s:null},v.Clicked=function(t){var s,e=this.a,n=e.target,i=e.href;if(""==n||"_self"==n){if(z.createEvent){if((s=z.createEvent("MouseEvents")).initMouseEvent("click",1,1,window,0,0,0,0,0,0,0,0,0,0,null),!e.dispatchEvent(s))return}else if(e.fireEvent&&!e.fireEvent("onclick"))return;z.location=i}else if(self.frames[n])self.frames[n].document.location=i;else{try{if(top.frames[n])return void(top.frames[n].document.location=i)}catch{}window.open(i,n)}},(d=b.prototype).SourceElements=function(){return z.querySelectorAll?z.querySelectorAll("#"+this.source):[z.getElementById(this.source)]},d.HideTags=function(){var e,t=this.SourceElements();for(e=0;e<t.length;++e)t[e].style.display="none"},d.GetTags=function(){var e,i,s,a,t=this.SourceElements(),n=[];for(a=0;a<=this.repeatTags;++a)for(i=0;i<t.length;++i)for(e=t[i].getElementsByTagName("a"),s=0;s<e.length;++s)n.push(e[s]);return n},d.Message=function(t){var n,i,a,r,o,f,e=[],s=t.split("");for(n=0;n<s.length;++n)" "!=s[n]&&(i=n-s.length/2,(a=z.createElement("A")).href="#",a.innerText=s[n],o=100*Z(i/9),f=-100*L(i/9),(r=new Mt(this,s[n],a,[o,0,f],2,18,"#000","#fff",0,0,0,"monospace",2,s[n])).Init(),e.push(r));return e},d.CreateTag=function(t){var e,n,i,s,a,r,o,f,l=[0,0,0];return"text"!=this.imageMode&&(e=t.getElementsByTagName("img")).length&&((n=new Image).src=e[0].src,!this.imageMode)?((i=new Mt(this,"",t,l,0,0)).SetImage(n),x(n,e[0],i,this),i):("image"!=this.imageMode&&(s=(a=new Yt(t)).Lines(),a.Empty()?a=null:(r=this.textFont||c(p(t,"font-family")),this.splitWidth&&(s=a.SplitWidth(this.splitWidth,this.ctxt,r,this.textHeight)),o="tag"==this.bgColour?p(t,"background-color"):this.bgColour,f="tag"==this.bgOutline?p(t,"color"):this.bgOutline)),a||n?(i=new Mt(this,s,t,l,2,this.textHeight+2,this.textColour||p(t,"color"),o,this.bgRadius,f,this.bgOutlineThickness,r,this.padding,a&&a.original),n?(i.SetImage(n),x(n,e[0],i,this)):i.Init(),i):void 0)},d.UpdateTag=function(t,e){var n=this.textColour||p(e,"color"),i=this.textFont||c(p(e,"font-family")),s="tag"==this.bgColour?p(e,"background-color"):this.bgColour,a="tag"==this.bgOutline?p(e,"color"):this.bgOutline;t.a=e,t.title=e.title,(t.colour!=n||t.textFont!=i||t.bgColour!=s||t.bgOutline!=a)&&t.SetFont(i,n,s,a)},d.Weight=function(t){var n,i,s,r,e=t.length,a=[],o=this.weightFrom?this.weightFrom.split(/[, ]/):[null],f=o.length;for(i=0;i<e;++i)for(a[i]=[],s=0;s<f;++s)n=_(t[i].a,o[s],this.textHeight),(!this.max_weight[s]||n>this.max_weight[s])&&(this.max_weight[s]=n),(!this.min_weight[s]||n<this.min_weight[s])&&(this.min_weight[s]=n),a[i][s]=n;for(s=0;s<f;++s)this.max_weight[s]>this.min_weight[s]&&(r=1);if(r)for(i=0;i<e;++i)t[i].SetWeight(a[i])},d.Load=function(){var n,i,s,a,r,o,f,l,t=this.GetTags(),e=[],g=[],w={sphere:Pt,vcylinder:Et,hcylinder:N,vring:Ct,hring:Ft};if(t.length){for(g.length=t.length,l=0;l<t.length;++l)g[l]=l;for(this.shuffleTags&&Ot(g),this.max_radius=R(a=100*this.radiusX,R(r=100*this.radiusY,o=100*this.radiusZ)),l=0;l<t.length;++l)(i=this.CreateTag(t[g[l]]))&&e.push(i);for(this.weight&&this.Weight(e,!0),this.shapeArgs?this.shapeArgs[0]=e.length:(n=(s=this.shape.toString().split(/[(),]/)).shift(),this.shape="function"==typeof window[n]?window[n]:w[n]||w.sphere,this.shapeArgs=[e.length,a,r,o].concat(s)),f=this.shape.apply(this,this.shapeArgs),this.listLength=e.length,l=0;l<e.length;++l)e[l].position=new y(f[l][0],f[l][1],f[l][2])}this.noTagsMessage&&!e.length&&(e=this.Message("No "+(l=this.imageMode&&"both"!=this.imageMode?this.imageMode+" ":"")+"tags")),this.taglist=e},d.Update=function(){var i,r,o,f,l,g,t=this.GetTags(),e=[],n=this.taglist,s=[],a=[];if(!this.shapeArgs)return this.Load();if(t.length){for(f=this.listLength=t.length,o=n.length,l=0;l<o;++l)e.push(n[l]),a.push(l);for(l=0;l<f;++l){for(g=0,i=0;g<o;++g)n[g].EqualTo(t[l])&&(this.UpdateTag(e[g],t[l]),i=a[g]=-1);i||s.push(l)}for(l=0,g=0;l<o;++l)-1==a[g]?a.splice(g,1):++g;if(a.length){for(Ot(a);a.length&&s.length;)l=a.shift(),g=s.shift(),e[l]=this.CreateTag(t[g]);for(a.sort(function(w,T){return w-T});a.length;)e.splice(a.pop(),1)}for(g=e.length/(s.length+1),l=0;s.length;)e.splice(gt(++l*g),0,this.CreateTag(t[s.shift()]));for(this.shapeArgs[0]=f=e.length,r=this.shape.apply(this,this.shapeArgs),l=0;l<f;++l)e[l].position=new y(r[l][0],r[l][1],r[l][2]);this.weight&&this.Weight(e)}this.taglist=e},d.SetShadow=function(t){t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffset[0],t.shadowOffsetY=this.shadowOffset[1]},d.Draw=function(t){if(!this.paused){var l,g,w,Y,e=this.canvas,n=e.width,i=e.height,s=0,a=(t-this.time)*b.interval/1e3,r=n/2+this.offsetX,o=i/2+this.offsetY,f=this.ctxt,T=-1,C=this.taglist,I=C.length,H=this.frontSelect,J=this.centreFunc==rt;if(this.time=t,this.frozen&&this.drawn)return this.Animate(n,i,a);for(Y=this.AnimateFixed(),f.setTransform(1,0,0,1,0,0),w=0;w<I;++w)C[w].Calc(this.transform,this.fixedAlpha);if(C=function Ut(t,e){var s,n=[],i=t.length;for(s=0;s<i;++s)n.push(t[s]);return n.sort(e),n}(C,function(Q,W){return W.z-Q.z}),Y&&this.fixedAnim.active)l=this.fixedAnim.tag.UpdateActive(f,r,o);else{for(this.active=null,w=0;w<I;++w)(g=this.mx>=0&&this.my>=0&&this.taglist[w].CheckActive(f,r,o))&&g.sc>s&&(!H||g.z<=0)&&(T=w,(l=g).tag=this.taglist[w],s=g.sc);this.active=l}for(this.txtOpt||this.shadow&&this.SetShadow(f),f.clearRect(0,0,n,i),w=0;w<I;++w){if(!J&&C[w].z<=0){try{this.centreFunc(f,n,i,r,o)}catch(Q){alert(Q),this.centreFunc=rt}J=!0}l&&l.tag==C[w]&&l.PreDraw(f,C[w],r,o)||C[w].Draw(f,r,o),l&&l.tag==C[w]&&l.PostDraw(f)}this.freezeActive&&l?this.Freeze():(this.UnFreeze(),this.drawn=I==this.listLength),this.fixedCallback&&(this.fixedCallback(this,this.fixedCallbackTag),this.fixedCallback=null),Y||this.Animate(n,i,a),l&&l.LastDraw(f),e.style.cursor=l?this.activeCursor:"",this.Tooltip(l,this.taglist[T])}},d.TooltipNone=function(){},d.TooltipNative=function(t,e){this.canvas.title=t?e&&e.title?e.title:"":this.ctitle},d.SetTTDiv=function(t,e){var n=this,i=n.ttdiv.style;t!=n.ttdiv.innerHTML&&(i.display="none"),n.ttdiv.innerHTML=t,e&&(e.title=n.ttdiv.innerHTML),"none"==i.display&&!n.tttimer&&(n.tttimer=setTimeout(function(){var s=Xt(n.canvas.id);i.display="block",i.left=s.x+n.mx+"px",i.top=s.y+n.my+24+"px",n.tttimer=null},n.tooltipDelay))},d.TooltipDiv=function(t,e){t&&e&&e.title?this.SetTTDiv(e.title,e):!t&&-1!=this.mx&&-1!=this.my&&this.ctitle.length?this.SetTTDiv(this.ctitle):this.ttdiv.style.display="none"},d.Transform=function(t,e,n){if(e||n){var i=Z(e),s=L(e),a=Z(n),r=L(n),o=new $([r,0,a,0,1,0,-a,0,r]),f=new $([1,0,0,0,s,-i,0,i,s]);t.transform=t.transform.mul(o.mul(f))}},d.AnimateFixed=function(){var t,e,n,i,s;return this.fadeIn&&((e=nt()-this.startTime)>=this.fadeIn?(this.fadeIn=0,this.fixedAlpha=1):this.fixedAlpha=e/this.fadeIn),!!this.fixedAnim&&(this.fixedAnim.transform||(this.fixedAnim.transform=this.transform),t=this.fixedAnim,e=nt()-t.t0,n=t.angle,s=this.animTiming(t.t,e),this.transform=t.transform,e>=t.t?(this.fixedCallbackTag=t.tag,this.fixedCallback=t.cb,this.fixedAnim=this.yaw=this.pitch=0):n*=s,i=$.Rotation(n,t.axis),this.transform=this.transform.mul(i),0!=this.fixedAnim)},d.AnimatePosition=function(t,e,n){var r,o,i=this,s=i.mx,a=i.my;!i.frozen&&s>=0&&a>=0&&s<t&&a<e?(r=i.maxSpeed,o=i.reverse?-1:1,i.lx||(i.yaw=(2*s*r/t-r)*o*n),i.ly||(i.pitch=(2*a*r/e-r)*-o*n),i.initial=null):i.initial||(i.frozen&&!i.freezeDecel?i.yaw=i.pitch=0:i.Decel(i)),this.Transform(i,i.pitch,i.yaw)},d.AnimateDrag=function(t,e,n){var i=this,s=100*n*i.maxSpeed/i.max_radius/i.zoom;i.dx||i.dy?(i.lx||(i.yaw=i.dx*s/i.stretchX),i.ly||(i.pitch=i.dy*-s/i.stretchY),i.dx=i.dy=0,i.initial=null):i.initial||i.Decel(i),this.Transform(i,i.pitch,i.yaw)},d.Freeze=function(){this.frozen||(this.preFreeze=[this.yaw,this.pitch],this.frozen=1,this.drawn=0)},d.UnFreeze=function(){this.frozen&&(this.yaw=this.preFreeze[0],this.pitch=this.preFreeze[1],this.frozen=0)},d.Decel=function(t){var e=t.minSpeed,n=F(t.yaw),i=F(t.pitch);!t.lx&&n>e&&(t.yaw=n>t.z0?t.yaw*t.decel:0),!t.ly&&i>e&&(t.pitch=i>t.z0?t.pitch*t.decel:0)},d.Zoom=function(t){this.z2=this.z1*(1/t),this.drawn=0},d.Clicked=function(t){var e=this.active;try{e&&e.tag&&(!1===this.clickToFront||null===this.clickToFront?e.tag.Clicked(t):this.TagToFront(e.tag,this.clickToFront,function(){e.tag.Clicked(t)},!0))}catch{}},d.Wheel=function(t){this.zoom=A(this.zoomMax,R(this.zoomMin,this.zoom+this.zoomStep*(t?1:-1))),this.Zoom(this.zoom)},d.BeginDrag=function(t){this.down=X(t,this.canvas),t.cancelBubble=!0,t.returnValue=!1,t.preventDefault&&t.preventDefault()},d.Drag=function(t,e){if(this.dragControl&&this.down){var i=e.x-this.down.x,s=e.y-this.down.y;(this.dragging||i*i+s*s>this.dragThreshold*this.dragThreshold)&&(this.dx=i,this.dy=s,this.dragging=1,this.down=e)}return this.dragging},d.EndDrag=function(){var t=this.dragging;return this.dragging=this.down=null,t},d.BeginPinch=function(t){this.pinched=[$t(t),this.zoom],t.preventDefault&&t.preventDefault()},d.Pinch=function(t){var n,i=this.pinched;!i||(n=$t(t),this.zoom=A(this.zoomMax,R(this.zoomMin,i[1]*n/i[0])),this.Zoom(this.zoom))},d.EndPinch=function(t){this.pinched=null},d.Pause=function(){this.paused=!0},d.Resume=function(){this.paused=!1},d.SetSpeed=function(t){this.initial=t,this.yaw=t[0]*this.maxSpeed,this.pitch=t[1]*this.maxSpeed},d.FindTag=function(t){if(!V(t))return null;if(V(t.index)&&(t=t.index),!mt(t))return this.taglist[t];var e,n,i;for(V(t.id)?(e="id",n=t.id):V(t.text)&&(e="innerText",n=t.text),i=0;i<this.taglist.length;++i)if(this.taglist[i].a[e]==n)return this.taglist[i]},d.RotateTag=function(t,e,n,i,s,a){var r=t.Calc(this.transform,1),o=new y(r.x,r.y,r.z),f=function pt(t,e){return e=e*Math.PI/180,t=t*Math.PI/180,new y(Z(t)*L(e),-Z(e),-L(t)*L(e))}(n,e),l=o.angle(f),g=o.cross(f).unit();0==l?(this.fixedCallbackTag=t,this.fixedCallback=s):this.fixedAnim={angle:-l,axis:g,t:i,t0:nt(),cb:s,tag:t,active:a}},d.TagToFront=function(t,e,n,i){this.RotateTag(t,0,0,e,n,i)},b.Start=function(t,e,n){b.Delete(t),b.tc[t]=new b(t,e,n)},b.Linear=function(t,e){return e/t},b.Smooth=function(t,e){return.5-L(e*Math.PI/t)/2},b.Pause=function(t){At("Pause",t)},b.Resume=function(t){At("Resume",t)},b.Reload=function(t){At("Load",t)},b.Update=function(t){At("Update",t)},b.SetSpeed=function(t,e){return!(!mt(e)||!b.tc[t]||isNaN(e[0])||isNaN(e[1])||(b.tc[t].SetSpeed(e),0))},b.TagToFront=function(t,e){return!!mt(e)&&(e.lat=e.lng=0,b.RotateTag(t,e))},b.RotateTag=function(t,e){if(mt(e)&&b.tc[t]){isNaN(e.time)&&(e.time=500);var n=b.tc[t].FindTag(e);if(n)return b.tc[t].RotateTag(n,e.lat,e.lng,e.time,e.callback,e.active),!0}return!1},b.Delete=function(t){var e,n;if(B[t]&&(n=z.getElementById(t)))for(e=0;e<B[t].length;++e)m(B[t][e][0],B[t][e][1],n);delete B[t],delete b.tc[t]},b.NextFrameRAF=function(){requestAnimationFrame(Gt)},b.NextFrameTimeout=function(t){setTimeout(te,t)},b.tc={},b.options={z1:2e4,z2:2e4,z0:2e-4,freezeActive:!1,freezeDecel:!1,activeCursor:"pointer",pulsateTo:1,pulsateTime:3,reverse:!1,depth:.5,maxSpeed:.05,minSpeed:0,decel:.95,interval:20,minBrightness:.1,maxBrightness:1,outlineColour:"#ffff99",outlineThickness:2,outlineOffset:5,outlineMethod:"outline",outlineRadius:0,textColour:"#ff99ff",textHeight:15,textFont:"Helvetica, Arial, sans-serif",shadow:"#000",shadowBlur:0,shadowOffset:[0,0],initial:null,hideTags:!0,zoom:1,weight:!1,weightMode:"size",weightFrom:null,weightSize:1,weightSizeMin:null,weightSizeMax:null,weightGradient:{0:"#f00",.33:"#ff0",.66:"#0f0",1:"#00f"},txtOpt:!0,txtScale:2,frontSelect:!1,wheelZoom:!0,zoomMin:.3,zoomMax:3,zoomStep:.05,shape:"sphere",lock:null,tooltip:null,tooltipDelay:300,tooltipClass:"tctooltip",radiusX:1,radiusY:1,radiusZ:1,stretchX:1,stretchY:1,offsetX:0,offsetY:0,shuffleTags:!1,noSelect:!1,noMouse:!1,imageScale:1,paused:!1,dragControl:!1,dragThreshold:4,centreFunc:rt,splitWidth:0,animTiming:"Smooth",clickToFront:!1,fadeIn:0,padding:0,bgColour:null,bgRadius:0,bgOutline:null,bgOutlineThickness:0,outlineIncrease:4,textAlign:"centre",textVAlign:"middle",imageMode:null,imagePosition:null,imagePadding:2,imageAlign:"centre",imageVAlign:"middle",noTagsMessage:!0,centreImage:null,pinchZoom:!1,repeatTags:0,minTags:0,imageRadius:0,scrollPause:!1,outlineDash:0,outlineDashSpace:0,outlineDashSpeed:1})b[K]=b.options[K];window.TagCanvas=b,u("load",function(){b.loaded=1},window)}()}}]);